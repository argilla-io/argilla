import { shallowMount } from "@vue/test-utils";
import TextSpansStaticComponent from "./TextSpansStatic";

let wrapper = null;
const options = {
  stubs: ["text-span-static"],
  propsData: {
    datasetName: "name",
    entities: [
      {
        start: 38,
        end: 47,
        label: "KEYPHRASE",
        score: 0,
        origin: "prediction",
      },
      {
        start: 52,
        end: 80,
        label: "KEYPHRASE",
        score: 0,
        origin: "prediction",
      },
    ],
    datasetEntities: [
      {
        color_id: 0,
        text: "LOC",
      },
      {
        color_id: 1,
        text: "ORG",
      },
      {
        color_id: 2,
        text: "PER",
      },
      {
        color_id: 3,
        text: "MISC",
      },
    ],
    datasetQuery: {
      annotated_as: undefined,
      annotated_by: undefined,
      from: undefined,
      limit: undefined,
      metadata: undefined,
      predicted: undefined,
      predicted_as: undefined,
      predicted_by: undefined,
      query_text: undefined,
      score: undefined,
      status: undefined,
      text: undefined,
    },
    record: {
      id: 1001,
      metadata: {},
      annotation: {
        agent: "Danis-MacBook-Pro.local",
        entities: [
          {
            start: 66,
            end: 87,
            label: "ORG",
            score: 1,
          },
          {
            start: 117,
            end: 124,
            label: "LOC",
            score: 1,
          },
        ],
      },
      status: "Discarded",
      selected: false,
      event_timestamp: "2022-12-21T09:52:24.344733",
      vectors: {
        "mini-lm-sentence-transformers": {
          value: [
            -0.17376075685024261, 0.055927377194166183, -0.35138416290283203,
            0.10402514785528183, 0.3053639233112335, 0.052827056497335434,
            0.08671305328607559, -0.28463852405548096, -0.13400329649448395,
            0.023693058639764786, 0.15302817523479462, -0.4914543330669403,
            -0.023257717490196228, 0.09091291576623917, -0.028243353590369225,
            -0.0033761076629161835, -0.10571970045566559, -0.20054997503757477,
            0.029506441205739975, 0.18990276753902435, -0.11823751032352448,
            -0.042063307017087936, 0.24484576284885406, 0.059314243495464325,
            0.18527629971504211, 0.19538508355617523, 0.1351955085992813,
            -0.03361310064792633, -0.13653871417045593, -0.1986406147480011,
            0.23096227645874023, 0.13436272740364075, -0.296442449092865,
            0.07138799130916595, 0.15192556381225586, 0.10004530102014542,
            -0.0902545303106308, 0.09009002149105072, 0.24533388018608093,
            0.11896293610334396, -0.030417626723647118, -0.2170933336019516,
            -0.1654311716556549, 0.08444026857614517, 0.12878091633319855,
            0.30670788884162903, -0.041242558509111404, 0.12896563112735748,
            0.0027608254458755255, -0.4011476933956146, 0.23564283549785614,
            -0.021079955622553825, -0.30020269751548767, 0.0895204022526741,
            -0.0008517290698364377, -0.6005298495292664, 0.01313077937811613,
            0.2829747200012207, 0.03714627027511597, -0.033566150814294815,
            -0.06115804240107536, 0.3229311406612396, 0.24930305778980255,
            -0.0724087730050087, 0.012036753818392754, 0.032544612884521484,
            0.06299769133329391, 0.09330327063798904, 0.017207490280270576,
            0.005921670235693455, 0.13276714086532593, 0.27954739332199097,
            -0.16732127964496613, 0.059633225202560425, -0.1590631753206253,
            -0.11072187125682831, 0.2121950089931488, -0.042270295321941376,
            -0.2940835654735565, 0.19063732028007507, 0.07987269014120102,
            -0.007780409883707762, 0.15456172823905945, 0.17110560834407806,
            0.3136084973812103, -0.16075767576694489, -0.2787749171257019,
            0.09715311974287033, 0.10384220629930496, 0.05359786003828049,
            0.20922556519508362, 0.05639823153614998, 0.21857424080371857,
            -0.011224821209907532, 0.4638182818889618, 0.03382890671491623,
            -0.136179581284523, -0.1518816500902176, 0.12717963755130768,
            0.23452326655387878, -0.23826895654201508, 0.11981253325939178,
            -0.3295903205871582, -0.0052386620081961155, -0.05392802506685257,
            0.02671675756573677, 0.22091419994831085, 0.0761265978217125,
            -0.0363222174346447, -0.04459000751376152, 0.3133867681026459,
            -0.061937518417835236, -0.13951537013053894, -0.35181334614753723,
            0.3089500963687897, 0.13294725120067596, -0.07761319726705551,
            -0.00011877156794071198, 0.05415022000670433, -0.38383397459983826,
            -0.06830937415361404, -0.022440999746322632, -0.08778829127550125,
            -0.180023193359375, -0.06813663989305496, 0.08884913474321365,
            0.05486612766981125, -8.728167696065375e-34, -0.04969072714447975,
            0.13408420979976654, -0.2675066888332367, -0.14760923385620117,
            0.016973549500107765, -0.07520345598459244, 0.0629567950963974,
            0.030995871871709824, 0.2619779109954834, 0.1190342977643013,
            0.1678251475095749, -0.3654448091983795, -0.2872719168663025,
            -0.22468170523643494, -0.10744963586330414, -0.003480886807665229,
            0.10658200085163116, 0.21573080122470856, -0.21876056492328644,
            0.17714978754520416, 0.09283055365085602, 0.030551893636584282,
            0.15095560252666473, -0.013174285180866718, -0.10400520265102386,
            -0.26065558195114136, 0.344892293214798, 0.21415528655052185,
            -0.08843441307544708, -0.1299099177122116, 0.130036860704422,
            0.14306309819221497, 0.11867047101259232, 0.03378256410360336,
            0.11801057308912277, 0.10399844497442245, -0.13479392230510712,
            0.0062002986669540405, -0.021517425775527954, -0.03427358716726303,
            0.07204153388738632, -0.10736006498336792, 0.447708398103714,
            -0.07399167120456696, -0.15336088836193085, -0.12766483426094055,
            -0.10173030942678452, -0.2429770678281784, -0.12418996542692184,
            -0.03756282478570938, -0.3521798551082611, 0.018507685512304306,
            0.09049071371555328, 0.2836397588253021, 0.02040207013487816,
            0.028156409040093422, -0.09420681744813919, 0.0833822563290596,
            0.27785640954971313, -0.026375656947493553, 0.09389517456293106,
            -0.012043054215610027, -0.3257959187030792, -0.11677413433790207,
            -0.018138736486434937, -0.11435512453317642, 0.0030710643623024225,
            0.21895334124565125, -0.15395747125148773, 0.12392052263021469,
            0.01371980644762516, 0.22443357110023499, 0.5038771629333496,
            0.0020784891676157713, -0.02789870835840702, 0.24303407967090607,
            0.0068261707201600075, -0.11099676787853241, -0.028865741565823555,
            -0.11900316178798676, -0.1419353187084198, -0.08242819458246231,
            0.19169969856739044, 0.03832780569791794, -0.06225905194878578,
            0.10947643220424652, 0.23733235895633698, -0.3339305520057678,
            -0.054265107959508896, 0.003729321528226137, 0.06815128773450851,
            -0.13059568405151367, -0.11539331823587418, -0.1595444679260254,
            -0.07016734033823013, -2.8751194084861628e-33, 0.11305393278598785,
            0.10974335670471191, -0.1227312684059143, -0.034893009811639786,
            -0.08543612062931061, 0.04534938558936119, 0.14048919081687927,
            0.022799821570515633, -0.031866591423749924, 0.20687274634838104,
            -0.17397700250148773, -0.1794067621231079, -0.2625536620616913,
            -0.12261061370372772, 0.3909395635128021, -0.029728079214692116,
            -0.08518242090940475, 0.08462222665548325, 0.1849040687084198,
            -0.030319038778543472, -0.27685877680778503, -0.16381299495697021,
            -0.06355630606412888, -0.1985311508178711, 0.27675750851631165,
            0.08623594790697098, 0.28061679005622864, -0.17521296441555023,
            0.1748463660478592, -0.08507531136274338, -0.01069579366594553,
            -0.0037258777301758528, -0.1759720742702484, 0.08943729847669601,
            -0.0010045276721939445, 0.0410725399851799, 0.28334861993789673,
            -0.03008047305047512, 0.1409885734319687, 0.068160779774189,
            -0.19186507165431976, 0.1895771324634552, -0.16088555753231049,
            0.03188224509358406, -0.005592699162662029, 0.17623750865459442,
            -0.0796033963561058, 0.21998469531536102, 0.2208966165781021,
            -0.19300588965415955, -0.019648956134915352, 0.09123846143484116,
            -0.09888995438814163, -0.10549094527959824, 0.02790074609220028,
            -0.2679968476295471, 0.08333899825811386, -0.12807293236255646,
            0.2107551246881485, -0.2454720288515091, 0.017227087169885635,
            0.018528809770941734, -0.08518071472644806, -0.09432718902826309,
            -0.1743994504213333, -0.17434623837471008, -0.06722788512706757,
            -0.16684798896312714, 0.0022856348659843206, 0.24817034602165222,
            -0.30553993582725525, -0.040078938007354736, -0.016332732513546944,
            -0.1463303118944168, -0.25160378217697144, -0.1704537570476532,
            -0.022298458963632584, 0.00426281476393342, 0.12431144714355469,
            -0.0198080874979496, 0.31971243023872375, -0.21841414272785187,
            -0.18212935328483582, -0.12195514887571335, 0.10151062905788422,
            0.02913818694651127, 0.31991463899612427, 0.23736198246479034,
            0.028719138354063034, -0.26236626505851746, 0.00694844126701355,
            -0.23186936974525452, 0.068013496696949, 0.2311079204082489,
            0.004233524668961763, -9.948847434770869e-8, -0.1569826304912567,
            0.23681680858135223, 0.01780877448618412, 0.017907654866576195,
            0.07969148457050323, -0.25571587681770325, 0.27610498666763306,
            0.0580446757376194, 0.06373665481805801, -0.34621837735176086,
            -0.26476311683654785, -0.2477494180202484, 0.0868164524435997,
            -0.1949402391910553, 0.06821029633283615, -0.025936590507626534,
            -0.015218219719827175, 0.04257487878203392, 0.07338962703943253,
            0.15231408178806305, 0.3336491882801056, -0.14892785251140594,
            -0.10528678447008133, -0.015584925189614296, -0.12879182398319244,
            0.12465313822031021, -0.09316179901361465, 0.0069870357401669025,
            -0.10612152516841888, 0.07201264798641205, -0.04485011100769043,
            -0.0025956924073398113, 0.014783128164708614, -0.07212048023939133,
            0.11032595485448837, 0.03419017419219017, -0.024660872295498848,
            -0.049053702503442764, -0.20456747710704803, -0.02540009282529354,
            -0.20380273461341858, -0.2300645262002945, 0.1281329095363617,
            -0.018032699823379517, -0.0012182891368865967, -0.13635624945163727,
            -0.24499432742595673, -0.005947537254542112, -0.14071784913539886,
            0.017863376066088676, 0.3951188921928406, 0.09658902138471603,
            0.028355998918414116, 0.25535351037979126, -0.23819640278816223,
            0.3162979483604431, 0.2958795130252838, -0.1604546159505844,
            -0.1505790501832962, 0.05787605792284012, 0.04815959557890892,
            -0.2979731857776642, 0.19733460247516632, -0.056029222905635834,
          ],
        },
      },
      last_updated: "2023-01-11T16:31:08.415487",
      search_keywords: [],
      tokens: [
        "A",
        "woman",
        "was",
        "charged",
        "on",
        "Friday",
        "with",
        "terrorist",
        "offences",
        "after",
        "three",
        "Irish",
        "Republican",
        "Army",
        "mortar",
        "bombs",
        "were",
        "found",
        "in",
        "a",
        "Belfast",
        "house",
        ",",
        "police",
        "said",
        ".",
      ],
      text: "A woman was charged on Friday with terrorist offences after three Irish Republican Army mortar bombs were found in a Belfast house , police said .",
      annotatedEntities: [
        {
          start: 66,
          end: 87,
          label: "ORG",
          score: 1,
          origin: "annotation",
        },
        {
          start: 117,
          end: 124,
          label: "LOC",
          score: 1,
          origin: "annotation",
        },
      ],
    },
    origin: "prediction",
    visualTokens: [
      {
        start: 0,
        end: 7,
        highlighted: false,
        text: "product",
        charsBetweenTokens: " ",
      },
      {
        start: 8,
        end: 10,
        highlighted: false,
        text: "of",
        charsBetweenTokens: " ",
      },
      {
        start: 11,
        end: 12,
        highlighted: false,
        text: "a",
        charsBetweenTokens: " ",
      },
      {
        start: 13,
        end: 17,
        highlighted: false,
        text: "full",
        charsBetweenTokens: " ",
      },
      {
        start: 18,
        end: 22,
        highlighted: false,
        text: "term",
        charsBetweenTokens: "",
      },
      {
        start: 22,
        end: 23,
        highlighted: false,
        text: ",",
        charsBetweenTokens: " ",
      },
      {
        start: 24,
        end: 37,
        highlighted: false,
        text: "uncomplicated",
        charsBetweenTokens: " ",
      },
      {
        start: 38,
        end: 47,
        highlighted: false,
        text: "pregnancy",
        charsBetweenTokens: " ",
      },
      {
        start: 48,
        end: 51,
        highlighted: false,
        text: "and",
        charsBetweenTokens: " ",
      },
      {
        start: 52,
        end: 63,
        highlighted: false,
        text: "spontaneous",
        charsBetweenTokens: " ",
      },
      {
        start: 64,
        end: 71,
        highlighted: false,
        text: "vaginal",
        charsBetweenTokens: " ",
      },
      {
        start: 72,
        end: 80,
        highlighted: false,
        text: "delivery",
        charsBetweenTokens: "",
      },
      {
        start: 80,
        end: 81,
        highlighted: false,
        text: ".",
        charsBetweenTokens: "",
      },
    ],
  },
};

beforeEach(() => {
  wrapper = shallowMount(TextSpansStaticComponent, options);
});

afterEach(() => {
  wrapper.destroy();
});

describe("TextSpansStaticComponent", () => {
  it("TextSpanStaticComponent", () => {
    expect(wrapper.is(TextSpansStaticComponent)).toBe(true);
  });
});
